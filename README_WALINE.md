# 🎄 新功能使用指南

## 🎁 随机抽照片功能

点击界面底部的 **"🎁 抽照片"** 按钮，系统会从圣诞树上随机抽取一张照片并以浮动卡片的形式展示。点击卡片可以关闭。

## 💌 Waline 评论系统集成

### 配置 Waline

1. **部署 Waline 服务器**
   - 访问 [Waline 官方文档](https://waline.js.org/guide/get-started/) 
   - 按照指引部署你的 Waline 服务器（支持 Vercel、Railway 等多种平台）

2. **配置项目**
   - 复制项目根目录的 `.env.example` 文件为 `.env`
   - 修改 `.env` 文件中的配置：

```env
VITE_WALINE_SERVER_URL=https://your-waline-server.example.com
```

将 `https://your-waline-server.example.com` 替换为你的 Waline 服务器地址。

3. **重启项目**

```bash
npm run dev
```

### 功能说明

配置完成后，界面会新增两个按钮：

#### 💌 写祝福
- 点击 **"💌 写祝福"** 按钮打开评论框
- 填写昵称和圣诞祝福内容
- 提交后评论会保存到 Waline 服务器
- 关闭评论框后会自动刷新评论列表
- 按钮上会显示当前评论总数

#### 🎄 抽祝福
- 点击 **"🎄 抽祝福"** 按钮随机抽取一条评论
- 评论会以浮动卡片形式展示
- 卡片会在 5 秒后自动消失，也可以点击手动关闭
- 如果还没有评论，会提示先发送第一条祝福

## 🎨 界面说明

配置 Waline 后，底部控制栏按钮从左到右为：
- **背景选择器**：切换背景
- **显示/隐藏调试**：开启手势识别调试模式
- **组装圣诞树/散开雪花**：切换圣诞树状态
- **🎁 抽照片**：随机抽取照片
- **💌 写祝福 (数量)**：打开评论框，显示评论总数
- **🎄 抽祝福**：随机抽取评论

## 🔧 注意事项

1. Waline 功能完全可选，如果不配置，相关按钮不会显示，不影响其他功能
2. 评论数据存储在你的 Waline 服务器上，需要自行管理
3. 建议在 Waline 后台配置反垃圾评论策略
4. 评论列表每 30 秒自动刷新一次

## 📱 移动端适配

所有新功能都已适配移动端，按钮会自动调整大小和布局。
